{"ast":null,"code":"import _regeneratorRuntime from\"/Users/denis/Desktop/projects/movies-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/denis/Desktop/projects/movies-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/denis/Desktop/projects/movies-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/denis/Desktop/projects/movies-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/denis/Desktop/projects/movies-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/denis/Desktop/projects/movies-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/denis/Desktop/projects/movies-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import Movie from\"./Movie\";import InfiniteScroll from\"react-infinite-scroller\";import MoviePreview from'./parts/MoviePreview';import{apiGetRequest}from'../../api/api';var MoviesList=/*#__PURE__*/function(_Component){_inherits(MoviesList,_Component);function MoviesList(){var _this;_classCallCheck(this,MoviesList);_this=_possibleConstructorReturn(this,_getPrototypeOf(MoviesList).call(this));_this.handleMovieSelect=function(row_id,movie_id){var body=document.querySelector('body');// body.style.overflow = row_id ? 'hidden'  :''\nbody.style.pointerEvents=row_id?'none':'';setTimeout(function(){body.style.pointerEvents='all';},800);_this.setState({selected:row_id,movie_id:movie_id});if(movie_id){_this.getMoviewDetails(movie_id);}};_this.getMoviewDetails=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(movie_id){var api,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:api=\"movie/\".concat(movie_id);_context.next=3;return apiGetRequest(api);case 3:res=_context.sent;if(res){_this.setState({movie_details:res});}case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.state={};return _this;}_createClass(MoviesList,[{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,stop=_this$props.stop,movies=_this$props.movies;var _this$state=this.state,selected=_this$state.selected,movie_details=_this$state.movie_details;return React.createElement(\"section\",{className:\"movies__list flex__start\"},React.createElement(InfiniteScroll,{pageStart:0,loadMore:this.props.loadElements,hasMore:!stop,loader:React.createElement(\"div\",{className:\"loader\",key:0},\"Loading ...\")//   getScrollParent={() => this.scrollParentRef}\n,useWindow:false},movies&&movies.length>0?movies.map(function(list,i){return React.createElement(\"ul\",{id:selected===i?\"selected__row\":\"\",className:\"movies__list__flex flex__center\"},list.map(function(m){return React.createElement(Movie,{selected:selected===i,handleMovieSelect:function handleMovieSelect(){return _this2.handleMovieSelect(i,m.id);},movie:m});}),selected===i?React.createElement(MoviePreview,{goToMoviePage:_this2.props.goToMoviePage,movie_details:movie_details,handleMovieSelect:_this2.handleMovieSelect}):\"\");}):\"\"));}}]);return MoviesList;}(Component);export default MoviesList;","map":{"version":3,"sources":["/Users/denis/Desktop/projects/movies-app/client/src/components/movies/MoviesList.jsx"],"names":["React","Component","Movie","InfiniteScroll","MoviePreview","apiGetRequest","MoviesList","handleMovieSelect","row_id","movie_id","body","document","querySelector","style","pointerEvents","setTimeout","setState","selected","getMoviewDetails","api","res","movie_details","state","props","stop","movies","loadElements","length","map","list","i","m","id","goToMoviePage"],"mappings":"qpCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,MAAOC,CAAAA,cAAP,KAA2B,yBAA3B,CACA,MAAOC,CAAAA,YAAP,KAAyB,sBAAzB,CACA,OAASC,aAAT,KAA8B,eAA9B,C,GAIMC,CAAAA,U,oEACF,qBAAa,4CACT,8EADS,MAQbC,iBARa,CAQO,SAACC,MAAD,CAASC,QAAT,CAAsB,CACxC,GAAMC,CAAAA,IAAI,CAAGC,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAb,CACA;AACAF,IAAI,CAACG,KAAL,CAAWC,aAAX,CAA2BN,MAAM,CAAG,MAAH,CAAY,EAA7C,CACAO,UAAU,CAAC,UAAM,CACfL,IAAI,CAACG,KAAL,CAAWC,aAAX,CAA2B,KAA3B,CACD,CAFS,CAEP,GAFO,CAAV,CAGA,MAAKE,QAAL,CAAc,CACZC,QAAQ,CAAET,MADE,CAEZC,QAAQ,CAARA,QAFY,CAAd,EAIA,GAAGA,QAAH,CAAY,CACR,MAAKS,gBAAL,CAAsBT,QAAtB,EACH,CACF,CAtBY,OAyBbS,gBAzBa,0FAyBM,iBAAOT,QAAP,8HACXU,GADW,iBACIV,QADJ,wBAEEJ,CAAAA,aAAa,CAACc,GAAD,CAFf,QAEXC,GAFW,eAGlB,GAAGA,GAAH,CAAO,CACL,MAAKJ,QAAL,CAAc,CACZK,aAAa,CAACD,GADF,CAAd,EAGD,CAPiB,sDAzBN,+DAET,MAAKE,KAAL,CAAa,EAAb,CAFS,aAKZ,C,8DAmCQ,iCACkB,KAAKC,KADvB,CACEC,IADF,aACEA,IADF,CACQC,MADR,aACQA,MADR,iBAE6B,KAAKH,KAFlC,CAEEL,QAFF,aAEEA,QAFF,CAEYI,aAFZ,aAEYA,aAFZ,CAGL,MACI,gCAAS,SAAS,CAAC,0BAAnB,EACA,oBAAC,cAAD,EACE,SAAS,CAAE,CADb,CAEE,QAAQ,CAAE,KAAKE,KAAL,CAAWG,YAFvB,CAGE,OAAO,CAAE,CAACF,IAHZ,CAIE,MAAM,CACJ,2BAAK,SAAS,CAAC,QAAf,CAAwB,GAAG,CAAE,CAA7B,gBAIJ;AATA,CAUE,SAAS,CAAE,KAVb,EAYGC,MAAM,EAAIA,MAAM,CAACE,MAAP,CAAgB,CAA1B,CACGF,MAAM,CAACG,GAAP,CAAW,SAACC,IAAD,CAAOC,CAAP,CAAa,CACtB,MACE,2BACE,EAAE,CAAEb,QAAQ,GAAKa,CAAb,CAAiB,eAAjB,CAAmC,EADzC,CAEE,SAAS,CAAC,iCAFZ,EAIGD,IAAI,CAACD,GAAL,CAAS,SAACG,CAAD,CAAO,CACf,MACE,qBAAC,KAAD,EACA,QAAQ,CAAId,QAAQ,GAAKa,CADzB,CAEE,iBAAiB,CAAE,mCAAM,CAAA,MAAI,CAACvB,iBAAL,CAAuBuB,CAAvB,CAA0BC,CAAC,CAACC,EAA5B,CAAN,EAFrB,CAGE,KAAK,CAAED,CAHT,EADF,CAOD,CARA,CAJH,CAaGd,QAAQ,GAAKa,CAAb,CAAiB,oBAAC,YAAD,EAClB,aAAa,CAAI,MAAI,CAACP,KAAL,CAAWU,aADV,CAElB,aAAa,CAAIZ,aAFC,CAGlB,iBAAiB,CAAI,MAAI,CAACd,iBAHR,EAAjB,CAII,EAjBP,CADF,CAqBD,CAtBD,CADH,CAwBG,EApCN,CADA,CADJ,CA0CH,C,wBAtFoBN,S,EAyFzB,cAAeK,CAAAA,UAAf","sourcesContent":["import React, { Component } from 'react';\nimport Movie from \"./Movie\";\nimport InfiniteScroll from \"react-infinite-scroller\";\nimport MoviePreview from './parts/MoviePreview';\nimport { apiGetRequest } from '../../api/api';\n\n\n\nclass MoviesList extends Component {\n    constructor(){\n        super()\n        this.state = {\n\n        }\n    }\n\n\n    handleMovieSelect = (row_id, movie_id) => {\n      const body = document.querySelector('body')\n      // body.style.overflow = row_id ? 'hidden'  :''\n      body.style.pointerEvents = row_id ? 'none'  :''\n      setTimeout(() => {\n        body.style.pointerEvents = 'all'\n      }, 800);\n      this.setState({\n        selected: row_id,\n        movie_id\n      });\n      if(movie_id){\n          this.getMoviewDetails(movie_id)\n      }\n    };\n\n\n    getMoviewDetails = async (movie_id) => {\n      const api = `movie/${movie_id}`\n      const res  = await apiGetRequest(api)\n     if(res){\n       this.setState({\n         movie_details:res\n       })\n     }\n    }\n\n\n\n  \n\n\n    render() {\n        const {stop, movies} = this.props\n        const {selected, movie_details} = this.state\n        return (\n            <section className=\"movies__list flex__start\">\n            <InfiniteScroll\n              pageStart={0}\n              loadMore={this.props.loadElements}\n              hasMore={!stop}\n              loader={\n                <div className=\"loader\" key={0}>\n                  Loading ...\n                </div>\n              }\n            //   getScrollParent={() => this.scrollParentRef}\n              useWindow={false}\n            >\n              {movies && movies.length > 0\n                ? movies.map((list, i) => {\n                    return (\n                      <ul\n                        id={selected === i ? \"selected__row\" : \"\"}\n                        className=\"movies__list__flex flex__center\"\n                      >\n                        {list.map((m) => {\n                          return (\n                            <Movie\n                            selected = {selected === i}\n                              handleMovieSelect={() => this.handleMovieSelect(i, m.id)}\n                              movie={m}\n                            />\n                          );\n                        })}\n                        {selected === i ? <MoviePreview \n                        goToMoviePage = {this.props.goToMoviePage}\n                        movie_details = {movie_details}\n                        handleMovieSelect = {this.handleMovieSelect}\n                        /> : \"\"}\n                      </ul>\n                    );\n                  })\n                : \"\"}\n            </InfiniteScroll>\n          </section>\n        );\n    }\n}\n\nexport default MoviesList;"]},"metadata":{},"sourceType":"module"}