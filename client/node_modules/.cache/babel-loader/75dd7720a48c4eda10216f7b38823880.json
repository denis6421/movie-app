{"ast":null,"code":"import _toConsumableArray from\"/Users/denis/Desktop/projects/movies-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/Users/denis/Desktop/projects/movies-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/denis/Desktop/projects/movies-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{UPDATE_GLOBAL_REDUCER}from'./types';import{setCookie,getCookie}from'../tools/cookies';export var updateGlobalReducer=function updateGlobalReducer(name,value){return(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:UPDATE_GLOBAL_REDUCER,payload:{name:name,value:value}});case 1:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());};export var handleFavorites=function handleFavorites(id,add){return(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var cookie,arr,name,value;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:cookie=getCookie('favorites1');arr=[];if(cookie){arr=JSON.parse(cookie);}if(add){arr=[].concat(_toConsumableArray(arr),[id]);}else{arr=arr.filter(function(n){return n.id!==id;});}setCookie('favorites1',JSON.stringify(arr));name='favorites';value=arr;dispatch({type:UPDATE_GLOBAL_REDUCER,payload:{name:name,value:value}});case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}());};","map":{"version":3,"sources":["/Users/denis/Desktop/projects/movies-app/client/src/actions/global_actions.js"],"names":["UPDATE_GLOBAL_REDUCER","setCookie","getCookie","updateGlobalReducer","name","value","dispatch","type","payload","handleFavorites","id","add","cookie","arr","JSON","parse","filter","n","stringify"],"mappings":"ufAAA,OACIA,qBADJ,KAEO,SAFP,CAGA,OAASC,SAAT,CAAoBC,SAApB,KAAqC,kBAArC,CAEA,MAAO,IAAMC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACC,IAAD,CAAOC,KAAP,kGAAiB,iBAAMC,QAAN,kHAEhDA,QAAQ,CAAC,CACLC,IAAI,CAAEP,qBADD,CAELQ,OAAO,CAAE,CAAEJ,IAAI,CAAJA,IAAF,CAAQC,KAAK,CAALA,KAAR,CAFJ,CAAD,CAAR,CAFgD,sDAAjB,iEAA5B,CASP,MAAO,IAAMI,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,EAAD,CAAKC,GAAL,mGAAa,kBAAML,QAAN,gJACpCM,MADoC,CAC3BV,SAAS,CAAC,YAAD,CADkB,CAEhCW,GAFgC,CAE1B,EAF0B,CAGpC,GAAGD,MAAH,CAAU,CACNC,GAAG,CAAGC,IAAI,CAACC,KAAL,CAAWH,MAAX,CAAN,CACH,CACD,GAAGD,GAAH,CAAO,CACHE,GAAG,8BAAOA,GAAP,GAAYH,EAAZ,EAAH,CACH,CAFD,IAEK,CACDG,GAAG,CAAGA,GAAG,CAACG,MAAJ,CAAW,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACP,EAAF,GAASA,EAAb,EAAZ,CAAN,CACH,CAEDT,SAAS,CAAC,YAAD,CAAea,IAAI,CAACI,SAAL,CAAeL,GAAf,CAAf,CAAT,CACIT,IAbgC,CAazB,WAbyB,CAchCC,KAdgC,CAcxBQ,GAdwB,CAgBxCP,QAAQ,CAAC,CACLC,IAAI,CAAEP,qBADD,CAELQ,OAAO,CAAE,CAAEJ,IAAI,CAAJA,IAAF,CAAQC,KAAK,CAALA,KAAR,CAFJ,CAAD,CAAR,CAhBwC,wDAAb,mEAAxB","sourcesContent":["import {\n    UPDATE_GLOBAL_REDUCER\n} from './types'\nimport { setCookie, getCookie } from '../tools/cookies'\n\nexport const updateGlobalReducer = (name, value) => async dispatch => {\n\n    dispatch({\n        type: UPDATE_GLOBAL_REDUCER,\n        payload: { name, value }\n    })\n}\n\n\nexport const handleFavorites = (id, add) => async dispatch => {\n    let cookie = getCookie('favorites1')\n        let arr = []\n        if(cookie){\n            arr = JSON.parse(cookie)\n        }\n        if(add){\n            arr = [...arr, id]\n        }else{\n            arr = arr.filter(n => n.id !== id)\n        }\n\n        setCookie('favorites1', JSON.stringify(arr))\n        let name = 'favorites'\n        let value = arr\n\n    dispatch({\n        type: UPDATE_GLOBAL_REDUCER,\n        payload: { name, value }\n    })\n}"]},"metadata":{},"sourceType":"module"}