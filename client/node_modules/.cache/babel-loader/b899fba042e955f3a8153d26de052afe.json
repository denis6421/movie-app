{"ast":null,"code":"import _regeneratorRuntime from\"/Users/denis/Desktop/projects/movies-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/denis/Desktop/projects/movies-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/denis/Desktop/projects/movies-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/denis/Desktop/projects/movies-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/denis/Desktop/projects/movies-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/denis/Desktop/projects/movies-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/denis/Desktop/projects/movies-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{apiGetRequest}from\"../../../api/api\";import Slider from\"react-slick\";import\"slick-carousel/slick/slick.css\";import\"slick-carousel/slick/slick-theme.css\";import{IMAGES_API}from\"../../../tools/keys\";var MovieRelated=/*#__PURE__*/function(_Component){_inherits(MovieRelated,_Component);function MovieRelated(){var _this;_classCallCheck(this,MovieRelated);_this=_possibleConstructorReturn(this,_getPrototypeOf(MovieRelated).call(this));_this.getRelated=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var movie_id,api,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:movie_id=_this.props.movie_id;api=\"movie/\".concat(movie_id,\"/similar\");_context.next=4;return apiGetRequest(api);case 4:res=_context.sent;if(res){_this.setState({similar:res.results,loaded:true});}case 6:case\"end\":return _context.stop();}}},_callee);}));_this.state={};return _this;}_createClass(MovieRelated,[{key:\"componentDidMount\",value:function componentDidMount(){this.getRelated();}},{key:\"render\",value:function render(){var _this2=this;var similar=this.state.similar;var size=this.props.size;var settings={dots:false,infinite:true,speed:300,slidesToShow:size===4?3:5,slidesToScroll:1};return React.createElement(\"div\",{className:\"movie__page__related\"},React.createElement(Slider,settings,similar&&similar.length>0?similar.map(function(m){return React.createElement(\"div\",{onClick:function onClick(){return _this2.props.changeMovie(m.id);},className:\"movie__page__related__element\",key:m.id},React.createElement(\"img\",{src:\"\".concat(IMAGES_API).concat(m.poster_path),alt:\"\"}));}):\"  \"));}}]);return MovieRelated;}(Component);export default MovieRelated;","map":{"version":3,"sources":["/Users/denis/Desktop/projects/movies-app/client/src/components/movie-page/sections/MovieRelated.jsx"],"names":["React","Component","apiGetRequest","Slider","IMAGES_API","MovieRelated","getRelated","movie_id","props","api","res","setState","similar","results","loaded","state","size","settings","dots","infinite","speed","slidesToShow","slidesToScroll","length","map","m","changeMovie","id","poster_path"],"mappings":"qpCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,aAAT,KAA8B,kBAA9B,CACA,MAAOC,CAAAA,MAAP,KAAmB,aAAnB,CACA,MAAO,gCAAP,CACA,MAAO,sCAAP,CACA,OAASC,UAAT,KAA2B,qBAA3B,C,GACMC,CAAAA,Y,sEACJ,uBAAc,8CACZ,gFADY,MAOdC,UAPc,sEAOD,wJACHC,QADG,CACU,MAAKC,KADf,CACHD,QADG,CAELE,GAFK,iBAEUF,QAFV,mCAGOL,CAAAA,aAAa,CAACO,GAAD,CAHpB,QAGLC,GAHK,eAIX,GAAIA,GAAJ,CAAS,CACP,MAAKC,QAAL,CAAc,CACZC,OAAO,CAAEF,GAAG,CAACG,OADD,CAEZC,MAAM,CAAE,IAFI,CAAd,EAID,CATU,sDAPC,GAEZ,MAAKC,KAAL,CAAa,EAAb,CAFY,aAGb,C,sFACmB,CAClB,KAAKT,UAAL,GACD,C,uCAaQ,oBACCM,CAAAA,OADD,CACa,KAAKG,KADlB,CACCH,OADD,IAEAI,CAAAA,IAFA,CAEQ,KAAKR,KAFb,CAEAQ,IAFA,CAGP,GAAIC,CAAAA,QAAQ,CAAG,CACXC,IAAI,CAAE,KADK,CAEXC,QAAQ,CAAE,IAFC,CAGXC,KAAK,CAAE,GAHI,CAIXC,YAAY,CAAEL,IAAI,GAAK,CAAT,CAAa,CAAb,CAAiB,CAJpB,CAKXM,cAAc,CAAE,CALL,CAAf,CAOA,MAAO,4BAAK,SAAS,CAAC,sBAAf,EACJ,oBAAC,MAAD,CAAYL,QAAZ,CACIL,OAAO,EAAIA,OAAO,CAACW,MAAR,CAAiB,CAA5B,CACGX,OAAO,CAACY,GAAR,CAAY,SAACC,CAAD,CAAO,CACrB,MAAO,4BACP,OAAO,CAAI,yBAAM,CAAA,MAAI,CAACjB,KAAL,CAAWkB,WAAX,CAAuBD,CAAC,CAACE,EAAzB,CAAN,EADJ,CAEP,SAAS,CAAC,+BAFH,CAGP,GAAG,CAAIF,CAAC,CAACE,EAHF,EAKL,2BAAK,GAAG,WAAKvB,UAAL,SAAkBqB,CAAC,CAACG,WAApB,CAAR,CAA2C,GAAG,CAAC,EAA/C,EALK,CAAP,CAOG,CARD,CADH,CAUG,IAXP,CADI,CAAP,CAeD,C,0BA7CwB3B,S,EAgD3B,cAAeI,CAAAA,YAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { apiGetRequest } from \"../../../api/api\";\nimport Slider from \"react-slick\";\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\nimport { IMAGES_API } from \"../../../tools/keys\";\nclass MovieRelated extends Component {\n  constructor() {\n    super();\n    this.state = {};\n  }\n  componentDidMount() {\n    this.getRelated();\n  }\n  getRelated = async () => {\n    const { movie_id } = this.props;\n    const api = `movie/${movie_id}/similar`;\n    const res = await apiGetRequest(api);\n    if (res) {\n      this.setState({\n        similar: res.results,\n        loaded: true,\n      });\n    }\n  };\n\n  render() {\n    const { similar } = this.state;\n    const {size} = this.props\n    var settings = {\n        dots: false,\n        infinite: true,\n        speed: 300,\n        slidesToShow: size === 4 ? 3  :5,\n        slidesToScroll: 1,\n      };\n    return <div className=\"movie__page__related\">\n       <Slider {...settings}>\n          {similar && similar.length > 0\n            ? similar.map((m) => {\n            return <div\n            onClick = {() => this.props.changeMovie(m.id)}\n            className='movie__page__related__element'\n            key = {m.id}\n            >\n              <img src={`${IMAGES_API}${m.poster_path}`} alt=\"\"/>\n            </div>;\n              })\n            : \"  \"}\n        </Slider>\n    </div>;\n  }\n}\n\nexport default MovieRelated;\n"]},"metadata":{},"sourceType":"module"}