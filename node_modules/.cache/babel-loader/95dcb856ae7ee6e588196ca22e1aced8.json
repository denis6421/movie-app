{"ast":null,"code":"import _regeneratorRuntime from\"/Users/denis/Desktop/projects/movies-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/denis/Desktop/projects/movies-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/denis/Desktop/projects/movies-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/denis/Desktop/projects/movies-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/denis/Desktop/projects/movies-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/denis/Desktop/projects/movies-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/denis/Desktop/projects/movies-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{apiGetRequest}from\"../../../api/api\";var MovieReviews=/*#__PURE__*/function(_Component){_inherits(MovieReviews,_Component);function MovieReviews(){var _this;_classCallCheck(this,MovieReviews);_this=_possibleConstructorReturn(this,_getPrototypeOf(MovieReviews).call(this));_this.getReviews=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var movie_id,api,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:movie_id=_this.props.movie_id;api=\"movie/\".concat(movie_id,\"/reviews\");_context.next=4;return apiGetRequest(api);case 4:res=_context.sent;if(res){_this.setState({reviews:res.results,loaded:true});}case 6:case\"end\":return _context.stop();}}},_callee);}));_this.state={};return _this;}_createClass(MovieReviews,[{key:\"componentDidMount\",value:function componentDidMount(){this.getReviews();}},{key:\"render\",value:function render(){var reviews=this.state.reviews;console.log(reviews);return React.createElement(\"div\",{className:\"movie__page__reviews\"},React.createElement(\"ul\",null,reviews&&reviews.length>0?reviews.map(function(m){return React.createElement(\"li\",{key:m.id},React.createElement(\"div\",{className:\"flex__start\"},React.createElement(\"h4\",null,\"Written by \"),React.createElement(\"h3\",null,m.author)),React.createElement(\"p\",null,m.content));}):'No reviwes'));}}]);return MovieReviews;}(Component);export default MovieReviews;","map":{"version":3,"sources":["/Users/denis/Desktop/projects/movies-app/client/src/components/movie-page/sections/MovieReviews.jsx"],"names":["React","Component","apiGetRequest","MovieReviews","getReviews","movie_id","props","api","res","setState","reviews","results","loaded","state","console","log","length","map","m","id","author","content"],"mappings":"qpCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,aAAT,KAA8B,kBAA9B,C,GAEMC,CAAAA,Y,sEACJ,uBAAa,8CACX,gFADW,MAUbC,UAVa,sEAUA,wJACHC,QADG,CACU,MAAKC,KADf,CACHD,QADG,CAELE,GAFK,iBAEUF,QAFV,mCAGOH,CAAAA,aAAa,CAACK,GAAD,CAHpB,QAGLC,GAHK,eAIX,GAAIA,GAAJ,CAAS,CACP,MAAKC,QAAL,CAAc,CACZC,OAAO,CAAEF,GAAG,CAACG,OADD,CAEZC,MAAM,CAAC,IAFK,CAAd,EAID,CATU,sDAVA,GAEX,MAAKC,KAAL,CAAa,EAAb,CAFW,aAKZ,C,sFAEkB,CACf,KAAKT,UAAL,GACH,C,uCAYQ,IACCM,CAAAA,OADD,CACa,KAAKG,KADlB,CACCH,OADD,CAEPI,OAAO,CAACC,GAAR,CAAYL,OAAZ,EACA,MAEE,4BAAK,SAAS,CAAC,sBAAf,EACE,8BACGA,OAAO,EAAIA,OAAO,CAACM,MAAR,CAAiB,CAA5B,CAAgCN,OAAO,CAACO,GAAR,CAAY,SAACC,CAAD,CAAO,CAClD,MACE,2BAAI,GAAG,CAAEA,CAAC,CAACC,EAAX,EACE,2BAAK,SAAS,CAAC,aAAf,EACA,4CADA,CAEA,8BAAKD,CAAC,CAACE,MAAP,CAFA,CADF,CAKE,6BAAIF,CAAC,CAACG,OAAN,CALF,CADF,CASD,CAVgC,CAAhC,CAUI,YAXP,CADF,CAFF,CAkBD,C,0BA3CwBpB,S,EA8C3B,cAAeE,CAAAA,YAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { apiGetRequest } from \"../../../api/api\";\n\nclass MovieReviews extends Component {\n  constructor(){\n    super()\n    this.state = {\n\n    }\n  }\n\n  componentDidMount(){\n      this.getReviews()\n  }\n  getReviews = async () => {\n    const { movie_id } = this.props;\n    const api = `movie/${movie_id}/reviews`;\n    const res = await apiGetRequest(api);\n    if (res) {\n      this.setState({\n        reviews: res.results,\n        loaded:true,\n      });\n    }\n  };\n  render() {\n    const { reviews } = this.state;\n    console.log(reviews)\n    return (\n      \n      <div className=\"movie__page__reviews\">\n        <ul>\n          {reviews && reviews.length > 0 ? reviews.map((m) => {\n            return (\n              <li key={m.id}>\n                <div className='flex__start'> \n                <h4>Written by </h4>\n                <h3>{m.author}</h3>\n                </div>\n                <p>{m.content}</p>\n              </li>\n            );\n          }) : 'No reviwes'}\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default MovieReviews;\n"]},"metadata":{},"sourceType":"module"}